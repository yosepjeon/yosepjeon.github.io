+++
title = "ìŠ¬ë¼ì´ë”© ìœˆë„ìš° ê°œë…ì •ë¦¬ 1"
date = "2023-02-05"
author = "Yosep"
tags = ["algorithm", "sliding window"]
description = "Sliding Window ì•Œê³ ë¦¬ì¦˜ì— ëŒ€í•œ ê°œë…ì„ í•™ìŠµí•©ë‹ˆë‹¤."
weight = 2
+++

## ğŸ§  ê°œë… 
#### ìŠ¬ë¼ì´ë”© ìœ„ë„ìš°: ì—°ì†ëœ êµ¬ê°„(subarray/substring)ì„ ë‹¤ë£° ë•Œ, ë§¤ë²ˆ êµ¬ê°„ì„ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ê³„ì‚°í•˜ì§€ ì•Šê³  ìœˆë„ìš°(êµ¬ê°„)ì„ í•œ ì¹¸ì”© ë°€ë©´ì„œ ê°’ì„ ê°±ì‹ í•´ O(N) ìœ¼ë¡œ í‘¸ëŠ” ëŒ€í‘œ íŒ¨í„´

## ğŸ¯ ì–¸ì œ ì“°ëŠ”ê°€ 
### ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ë¥¼ ì‚¬ìš©í•˜ëŠ” ëŒ€í‘œ ì¡°ê±´:
#### 1. ì—°ì† êµ¬ê°„ ë¬¸ì œë‹¤.
#### 2. "ìœˆë„ìš°ë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì¼ ë–„" ëª©í‘œê°€ ë‹¨ì¡°ì„±(monotonic)ì„ ê°€ì§„ë‹¤.
- ì˜ˆ: `í•©ì´ target ì´ìƒì´ë©´ ì™¼ìª½ì„ ì¤„ì´ë©´ í•©ì´ ê°ì†Œ`(ì–‘ìˆ˜ ë°°ì—´ì¼ ë•Œ)

âš ï¸ ì£¼ì˜: ìŒìˆ˜ê°€ ì„ì¸ â€œë¶€ë¶„ë°°ì—´ í•©â€ì€ ë‹¨ì¡°ì„±ì´ ê¹¨ì ¸ì„œ ë³´í†µ íˆ¬í¬ì¸í„° ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ê°€ ë°”ë¡œ ì•ˆ ë¨¹íˆê³ , prefix sum + í•´ì‹œë§µ / ì´ë¶„íƒìƒ‰ / ë‹¤ë¥¸ ê¸°ë²•ì„ ì¨ì•¼ í•¨.

## âœŒï¸ ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ì˜ 2ê°€ì§€ ëŒ€í‘œ í˜•íƒœ
### (1) ê³ ì • ê¸¸ì´ ìœˆë„ìš°(Fixed size window)
#### ì˜ˆ: ê¸¸ì´ Kì¸ êµ¬ê°„ í•©ì˜ ìµœëŒ€, í‰ê· , ìµœëŒ€ ë¹ˆë„ ë“±

```bash
arr:  [1][3][-2][5][4][1][2]
idx:   0  1   2  3  4  5  6

k=3
start:
      L        R
      |--------|
win:  [1][3][-2]

slide 1:
         L        R
         |--------|
win:     [3][-2][5]

slide 2:
            L        R
            |--------|
win:        [-2][5][4]
 ```
[ê·œì¹™]
ì²˜ìŒ Kê°œë¥¼ ë„£ì–´ ì´ˆê¸°ê°’ ë§Œë“  ë’¤

í•œ ì¹¸ ë°€ ë•Œë§ˆë‹¤:
- sum += arr[newRight]
- sum -= arr[oldLeft]

### ğŸ§© Java í…œí”Œë¦¿
```java
public class SlidingWindowFixed {
    public static int maxSumOfSizeK(int[] arr, int k) {
        if (k <= 0 || k > arr.length) throw new IllegalArgumentException("invalid k");

        int sum = 0;
        for (int i = 0; i < k; i++) sum += arr[i];

        int best = sum;

        // window: [i-k+1 .. i]
        for (int i = k; i < arr.length; i++) {
            sum += arr[i];       // add new right
            sum -= arr[i - k];   // remove old left
            if (sum > best) best = sum;
        }
        return best;
    }

    public static void main(String[] args) {
        int[] arr = {1, 3, -2, 5, 4, 1, 2};
        System.out.println(maxSumOfSizeK(arr, 3)); // example
    }
}
```

### ğŸ§© Kotlin í…œí”Œë¦¿
```kotlin
object SlidingWindowFixed {
    fun maxSumOfSizeK(arr: IntArray, k: Int): Int {
        require(k in 1..arr.size) { "invalid k" }

        var sum = 0
        for (i in 0 until k) sum += arr[i]
        var best = sum

        for (i in k until arr.size) {
            sum += arr[i]
            sum -= arr[i - k]
            if (sum > best) best = sum
        }
        return best
    }

    @JvmStatic
    fun main(args: Array<String>) {
        val arr = intArrayOf(1, 3, -2, 5, 4, 1, 2)
        println(maxSumOfSizeK(arr, 3))
    }
}
```

### (2) ê°€ë³€ ê¸¸ì´ ìœˆë„ìš°(Variable size window / Two Pointers)
#### ì˜ˆ: "ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìµœì†Œ ê¸¸ì´", "ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ìµœëŒ€ ê¸¸ì´" ë“±
ëŒ€í‘œ ì˜ˆ: ì–‘ìˆ˜ ë°°ì—´ì—ì„œ sum >= target ìµœì†Œ ê¸¸ì´
```bash
target = 7
arr: [2][3][1][2][4][3]
idx:  0  1  2  3  4  5

(1) right í™•ì¥í•˜ë©° sum ëˆ„ì 
L=0, R=0: [2]           sum=2
L=0, R=1: [2 3]         sum=5
L=0, R=2: [2 3 1]       sum=6
L=0, R=3: [2 3 1 2]     sum=8  âœ… ì¡°ê±´ ë§Œì¡±!

(2) ì¡°ê±´ ë§Œì¡±í–ˆìœ¼ë‹ˆ left ì¤„ì—¬ì„œ ìµœì†Œí™”
shrink:
- ê¸¸ì´=4 ê¸°ë¡
- left ë¹¼ê¸°: sum -= 2 => sum=6 (ì¡°ê±´ ê¹¨ì§) stop

(3) ë‹¤ì‹œ right í™•ì¥
R=4: [3 1 2 4] sum=10 âœ…
shrink:
- ê¸¸ì´=4 ê¸°ë¡
- sum -= 3 => 7 âœ… (ê¸¸ì´=3 ê¸°ë¡)
- sum -= 1 => 6 âŒ stop
...
```

í•µì‹¬ ë£¨í”„ í˜•íƒœ(íˆ¬í¬ì¸í„°ë‘ ê°™ë‹¤)
- rightëŠ” 0..N-1 í•œ ë²ˆì”© ì¦ê°€
- ì¡°ê±´ ë§Œì¡±í•˜ë©´ leftë¥¼ ê°€ëŠ¥í•œ ë§Œí¼ ì¤„ì—¬ ìµœì í™”
- ê° í¬ì¸í„°ëŠ” ìµœëŒ€ Në²ˆë§Œ ì›€ì§ì„ => O(N)

### ğŸ§© Java í…œí”Œë¦¿
```java
public class SlidingWindowMinLen {
    public static int minSubArrayLen(int target, int[] nums) {
        int n = nums.length;
        int left = 0;
        long sum = 0;
        int ans = Integer.MAX_VALUE;

        for (int right = 0; right < n; right++) {
            sum += nums[right];

            while (sum >= target) {
                ans = Math.min(ans, right - left + 1);
                sum -= nums[left++];
            }
        }
        return ans == Integer.MAX_VALUE ? 0 : ans;
    }

    public static void main(String[] args) {
        int[] nums = {2, 3, 1, 2, 4, 3};
        System.out.println(minSubArrayLen(7, nums)); // 2 ([4,3])
    }
}
```
### ğŸ§© Kotlin í…œí”Œë¦¿
```kotlin
object SlidingWindowMinLen {
    fun minSubArrayLen(target: Int, nums: IntArray): Int {
        var left = 0
        var sum = 0L
        var ans = Int.MAX_VALUE

        for (right in nums.indices) {
            sum += nums[right]
            while (sum >= target) {
                ans = minOf(ans, right - left + 1)
                sum -= nums[left++]
            }
        }
        return if (ans == Int.MAX_VALUE) 0 else ans
    }

    @JvmStatic
    fun main(args: Array<String>) {
        val nums = intArrayOf(2, 3, 1, 2, 4, 3)
        println(minSubArrayLen(7, nums))
    }
}
```

## ìŠ¬ë¼ì´ë”© ìœˆë„ìš°ì—ì„œ ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë¬¸ì œ
### (1) ê³ ì • ê¸¸ì´ K í…œí”Œë¦¿
- ìµœëŒ€í•©, ìµœì†Œí•©, í‰ê· , ìµœëŒ€ê°’(ì¶”ê°€ ìë£Œêµ¬ì¡° í•„ìš”) ë“±ì— ì‘ìš©

### (2) ê°€ë³€ ê¸¸ì´ â€œì¡°ê±´ ë§Œì¡± ìµœì†Œ/ìµœëŒ€â€ í…œí”Œë¦¿

### (3) ë¬¸ìì—´/ë¹ˆë„ ê¸°ë°˜ í…œí”Œë¦¿
- "ì¤‘ë³µ ì—†ì´ ê°€ì¥ ê¸´ ë¶€ë¶„ë¬¸ìì—´"
- "Kê°œ ì´í•˜ ì„œë¡œ ë‹¤ë¥¸ ë¬¸ì"
- Map/Arrayë¡œ ë¹ˆë„ ê´€ë¦¬ + ì¡°ê±´ ìœ„ë°˜ ì‹œ ì œì™¸