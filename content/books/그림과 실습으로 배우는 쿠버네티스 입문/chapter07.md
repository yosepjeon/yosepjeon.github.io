+++
title = "Chapter 07. ë¬´ìƒíƒœ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì•ˆì „í•˜ê²Œ ë§Œë“¤ê¸°"
date = "2025-12-10"
weight = 7
+++




# 7.1 ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í—¬ìŠ¤ ì²´í¬
ì¿ ë²„ë„¤í‹°ìŠ¤ì—ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ëŒ€í•œ í—¬ìŠ¤ ì²´í¬ë¥¼ ìˆ˜í–‰í•˜ê³ ,  
ì •ìƒì ì´ì§€ ì•Šì„ ë•Œ ìë™ìœ¼ë¡œ Serviceë‚˜ podë¥¼ ì œì–´í•˜ëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.

## 7.1.1 Readiness Probe
Readiness ProbeëŠ” Podê°€ íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ëŠ” í—¬ìŠ¤ ì²´í¬ ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.  
ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ ì¤‘ì¸ ìƒíƒœì™€ íŠ¸ë˜í”½ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ìƒíƒœëŠ” ê°™ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì´ˆê¸°í™”ê°€ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ëœ ì´í›„ì—ë„ íŠ¸ë˜í”½ì„ ë°›ì„ ìˆ˜ ìˆê¸°ê¹Œì§€ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
ì´ë¥¼ ìœ„í•´ ì»¨í…Œì´ë„ˆê°€ Ready ìƒíƒœê°€ ë  ë•Œê¹Œì§€ì˜ ì‹œê°„ê³¼ ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì œì–´í•©ë‹ˆë‹¤.

```yaml
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: httpserver
  name: httpserver-readiness
spec:
  containers:
  - name: httpserver
    image: blux2/delayfailserver:1.1
    readinessProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 5
      periodSeconds: 5
```

ì´ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” /healthzë¼ëŠ” ì—”ë“œí¬ì¸íŠ¸ì˜ 8080í¬íŠ¸ì— 5ì´ˆë§ˆë‹¤ í—¬ìŠ¤ ì²´í¬ ìš”ì²­ì„ ë³´ë‚´ì£¼ê³  ìˆìŠµë‹ˆë‹¤.  
ì´ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” HTTP ìš”ì²­ì„ ì‚¬ìš©í•˜ê³  ìˆì§€ë§Œ, ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜ TCP ì†Œì¼“ì„ ì‚¬ìš©í•˜ë„ë¡ Probeë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.(ë²„ì „ 1.24ë¶€í„°ëŠ” gRPCë„ ë² íƒ€ë¡œ ì§€ì›)  
Readinessë¼ëŠ” ì´ë¦„ì´ì§€ë§Œ, ì»¨í…Œì´ë„ˆë¥¼ ì‘ë™í•  ë–„ë§Œì´ ì•„ë‹ˆë¼ podì˜ ë¼ì´í”„ì‚¬ì´í´ ì „ì²´ì— ê±¸ì³ ìœ íš¨í•©ë‹ˆë‹¤.  
  
Readiness probeì— ì‹¤íŒ¨í•œ podëŠ” ì‹¤íŒ¨í•œ podëŠ” Service ë¦¬ì†ŒìŠ¤ì˜ ì—°ê²° ëŒ€ìƒì—ì„œ ì œì™¸ë˜ì–´ íŠ¸ë˜í”½ì„ ë°›ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.
```bash
$ kubectl apply --filename pod-readiness.yaml
pod/httpserver-readiness created

// ì²˜ìŒì—ëŠ” READY 1/1ì´ì§€ë§Œ, ì ì‹œ í›„ READY 0/1ì´ ë©ë‹ˆë‹¤. 
$ kubectl get pod --watch --namespace default
NAME                     READY   STATUS    RESTARTS   AGE
httpserver-readiness     0/1     Running   0          10s
httpserver-readiness     1/1     Running   0          15s

// ë¡œê·¸ë¥¼ ì°¸ì¡°í•˜ë©´ í—¬ìŠ¤ ì²´í¬ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
$ kubectl logs httpserver-readiness --namespace default

// ì‹¤ìŠµì„ ì •ë¦¬í•˜ê² ìŠµë‹ˆë‹¤.
$ kubectl delete --filename pod-readiness.yaml --name default
```

### Readiness Probeì˜ ë™ì‘ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Kubernetes Cluster                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Service   â”‚         â”‚                    Pod                      â”‚    â”‚
â”‚  â”‚  (ë¡œë“œë°¸ëŸ°ì„œ)  â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚             â”‚         â”‚  â”‚           Container                 â”‚    â”‚    â”‚
â”‚  â”‚  Endpoints: â”‚         â”‚  â”‚                                     â”‚    â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”‚â”€â”€â–¶  Readiness Probe ì²´í¬             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ Pod IP â”‚ â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”‚â”€â”€â”€â”€  (HTTP GET /health)             â”‚    â”‚    â”‚
â”‚  â”‚  â”‚        â”‚ â”‚ ì„±ê³µ ì‹œ   â”‚  â”‚                                     â”‚    â”‚    â”‚
â”‚  â”‚  â”‚ ë“±ë¡    â”‚ â”‚ ë“±ë¡     â”‚  â”‚      âœ“ 200 OK â†’ Ready ìƒíƒœ           â”‚    â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚  â”‚      âœ— 5xx   â†’ Not Ready ìƒíƒœ        â”‚    â”‚    â”‚
â”‚  â”‚             â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        Readiness Probe ì‹¤íŒ¨ ì‹œ                       â”‚     â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚   Service                              Pod                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚
â”‚  â”‚  â”‚  Endpoints  â”‚      â•³           â”‚  Container  â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ Pod IP â”‚ â”‚  íŠ¸ë˜í”½ ì „ë‹¬ ì¤‘ë‹¨ â”‚  Not Ready  â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ ì œê±°ë¨  â”‚ â”‚                  â”‚             â”‚                    â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” íŠ¹ì§•

| íŠ¹ì§• | ì„¤ëª… |
|------|------|
| **ëª©ì ** | Podê°€ íŠ¸ë˜í”½ì„ ë°›ì„ ì¤€ë¹„ê°€ ë˜ì—ˆëŠ”ì§€ í™•ì¸ |
| **ì‹¤íŒ¨ ì‹œ ë™ì‘** | Serviceì˜ Endpointsì—ì„œ Pod IP ì œê±° (íŠ¸ë˜í”½ ì „ë‹¬ ì¤‘ë‹¨) |
| **Pod ì¬ì‹œì‘** | âŒ Podë¥¼ ì¬ì‹œì‘í•˜ì§€ ì•ŠìŒ |
| **ì‚¬ìš© ì‹œì ** | ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”, DB ì—°ê²° ëŒ€ê¸°, ìºì‹œ ì›Œë°ì—… ë“± |

### Readiness Probeì˜ 3ê°€ì§€ ì²´í¬ ë°©ì‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Readiness Probe ì²´í¬ ë°©ì‹                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     HTTP GET         â”‚     TCP Socket       â”‚      Exec Command          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                      â”‚                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ kubelet  â”‚       â”‚   â”‚ kubelet  â”‚       â”‚   â”‚ kubelet  â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜       â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚
â”‚        â”‚             â”‚        â”‚             â”‚        â”‚                   â”‚
â”‚   HTTP GET           â”‚   TCP ì—°ê²° ì‹œë„        â”‚   ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ             â”‚
â”‚   /healthz           â”‚   port: 8080         â”‚   ëª…ë ¹ì–´ ì‹¤í–‰                 â”‚
â”‚        â”‚             â”‚        â”‚             â”‚        â”‚                   â”‚
â”‚        â–¼             â”‚        â–¼             â”‚        â–¼                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚Container â”‚       â”‚   â”‚Container â”‚       â”‚   â”‚Container â”‚             â”‚
â”‚   â”‚ :8080    â”‚       â”‚   â”‚ :8080    â”‚       â”‚   â”‚ $ cmd    â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                      â”‚                      â”‚                            â”‚
â”‚  200-399: ì„±ê³µ        â”‚  ì—°ê²° ì„±ê³µ: ì„±ê³µ         â”‚  exit 0: ì„±ê³µ               â”‚
â”‚  ê·¸ ì™¸: ì‹¤íŒ¨           â”‚  ì—°ê²° ì‹¤íŒ¨: ì‹¤íŒ¨         â”‚  ê·¸ ì™¸: ì‹¤íŒ¨                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### YAML ì„¤ì • ì˜ˆì‹œ

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-app
spec:
  containers:
  - name: my-container
    image: my-app:1.0
    ports:
    - containerPort: 8080
    readinessProbe:
      httpGet:
        path: /health      # í—¬ìŠ¤ ì²´í¬ ì—”ë“œí¬ì¸íŠ¸
        port: 8080         # ì²´í¬í•  í¬íŠ¸
      initialDelaySeconds: 5   # ì»¨í…Œì´ë„ˆ ì‹œì‘ í›„ ì²« ì²´í¬ê¹Œì§€ ëŒ€ê¸° ì‹œê°„
      periodSeconds: 10        # ì²´í¬ ì£¼ê¸° (10ì´ˆë§ˆë‹¤)
      timeoutSeconds: 3        # íƒ€ì„ì•„ì›ƒ (3ì´ˆ)
      successThreshold: 1      # ì„±ê³µìœ¼ë¡œ íŒë‹¨í•  ì—°ì† ì„±ê³µ íšŸìˆ˜
      failureThreshold: 3      # ì‹¤íŒ¨ë¡œ íŒë‹¨í•  ì—°ì† ì‹¤íŒ¨ íšŸìˆ˜
```

### Readiness Probe íƒ€ì„ë¼ì¸

```
ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶

Container ì‹œì‘
     â”‚
     â”‚â—€â”€â”€â”€â”€ initialDelaySeconds (5ì´ˆ) â”€â”€â”€â”€â–¶â”‚
     â”‚                                     â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â–¶
     â”‚                                     â”‚  â”‚      â”‚      â”‚      â”‚
                                        ì²«ë²ˆì§¸  2ë²ˆì§¸  3ë²ˆì§¸  4ë²ˆì§¸  ...
                                        ì²´í¬   ì²´í¬   ì²´í¬   ì²´í¬
                                           â”‚â—€â”€10ì´ˆâ”€â–¶â”‚
                                           periodSeconds

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  ì²´í¬ ê²°ê³¼ì— ë”°ë¥¸ ìƒíƒœ ë³€í™”                                           â”‚
     â”‚                                                                 â”‚
     â”‚  [Not Ready] â”€â”€â”€ì„±ê³µâ”€â”€â”€â–¶ [Ready] â—€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
     â”‚       â–²                     â”‚             â”‚                     â”‚
     â”‚       â”‚                     â”‚          ì„±ê³µ                      â”‚
     â”‚       â”‚               3íšŒ ì—°ì† ì‹¤íŒ¨       â”‚                        â”‚
     â”‚       â”‚                     â”‚             â”‚                     â”‚
     â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Readiness Probeê°€ í•„ìš”í•œ ìƒí™©

1. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™” ì‹œê°„ì´ í•„ìš”í•œ ê²½ìš°**
   - ëŒ€ìš©ëŸ‰ ë°ì´í„° ë¡œë”©
   - ìºì‹œ ì›Œë°ì—…
   - ì„¤ì • íŒŒì¼ íŒŒì‹±

2. **ì™¸ë¶€ ì˜ì¡´ì„± ì—°ê²° ëŒ€ê¸°**
   - ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ë¦½
   - ë©”ì‹œì§€ í ì—°ê²°
   - ì™¸ë¶€ API ì—°ê²° í™•ì¸

3. **Rolling Update ì‹œ ì•ˆì „í•œ ë°°í¬**
   - ìƒˆ Podê°€ ì™„ì „íˆ ì¤€ë¹„ëœ í›„ì—ë§Œ íŠ¸ë˜í”½ ì „ë‹¬
   - êµ¬ Pod ì¢…ë£Œ ì „ ìƒˆ Pod ì¤€ë¹„ ìƒíƒœ í™•ì¸

## 7.1.2 Liveness Probe
Liveness probeëŠ” Readness probeì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, Readiness probeëŠ” Serviceì™€ì˜ ì—°ê²°ì„ ëŠëŠ” ë°˜ë©´, Liveness probeëŠ” podë¥¼ ì¬ì‹œì‘í•©ë‹ˆë‹¤.  
ì´ëŠ” `podê°€ ë©ˆì¶”ì—ˆì„ ë•Œ ì¬ì‹œì‘ìœ¼ë¡œ í•´ê²°ë  ìˆ˜ ìˆëŠ” ê²½ìš°`ì— ìœ íš¨í•©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ, Liveness probeëŠ” ì¬ì‹œì‘ì„ ë¬´í•œíˆ ë°˜ë³µí•  ìœ„í—˜ì´ ìˆìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ ë„ì…í•´ì•¼í•©ë‹ˆë‹¤.

```yaml
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: httpserver
  name: httpserver-liveness
spec:
  containers:
  - name: httpserver
    image: blux2/delayfailserver:1.1
    livenessProbe:
      httpGet:
        path: /healthz
        port: 8080
      initialDelaySeconds: 5
      periodSeconds: 5
```

### Liveness Probeì˜ ë™ì‘ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Kubernetes Cluster                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                         Liveness Probe ì„±ê³µ ì‹œ                        â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚   kubelet                              Pod                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚  â”‚             â”‚   Liveness       â”‚      Container          â”‚       â”‚    â”‚
â”‚  â”‚  â”‚   Health    â”‚â”€â”€â”€â”€â”€â”€ì²´í¬â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚       â”‚    â”‚
â”‚  â”‚  â”‚   Check     â”‚â—€â”€â”€â”€â”€â”€200 OKâ”€â”€â”€â”€â”€â”€â”‚   âœ“ ì •ìƒ ë™ì‘ ì¤‘           â”‚       â”‚    â”‚
â”‚  â”‚  â”‚             â”‚                  â”‚                         â”‚       â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â”‚        â”‚                                                            â”‚    â”‚
â”‚  â”‚        â””â”€â”€â–¶ ì•„ë¬´ ë™ì‘ ì—†ìŒ (ê³„ì† ì‹¤í–‰)                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                         Liveness Probe ì‹¤íŒ¨ ì‹œ                        â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚   kubelet                              Pod                          â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚  â”‚             â”‚   Liveness       â”‚      Container          â”‚       â”‚    â”‚
â”‚  â”‚  â”‚   Health    â”‚â”€â”€â”€â”€â”€â”€ì²´í¬â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                         â”‚       â”‚    â”‚
â”‚  â”‚  â”‚   Check     â”‚â—€â”€â”€â”€â”€â”€ì‹¤íŒ¨/íƒ€ì„ì•„ì›ƒâ”€â”€â”‚   âœ— ì‘ë‹µ ì—†ìŒ/ì˜¤ë¥˜          â”‚       â”‚    â”‚
â”‚  â”‚  â”‚             â”‚                  â”‚                         â”‚       â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â”‚         â”‚                                    â”‚                      â”‚    â”‚
â”‚  â”‚         â”‚         failureThreshold ì´ˆê³¼ ì‹œ    â”‚                       â”‚    â”‚
â”‚  â”‚         â”‚                                    â–¼                      â”‚    â”‚
â”‚  â”‚         â”‚                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚    â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€ ì¬ì‹œì‘ ëª…ë ¹ â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   ğŸ”„ Container ì¬ì‹œì‘     â”‚       â”‚    â”‚
â”‚  â”‚                                   â”‚      (RESTARTS +1)      â”‚       â”‚    â”‚
â”‚  â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Readiness Probe vs Liveness Probe ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Readiness Probe vs Liveness Probe                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        Readiness Probe         â”‚           Liveness Probe                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚                                           â”‚
â”‚   ì‹¤íŒ¨ ì‹œ:                      â”‚    ì‹¤íŒ¨ ì‹œ:                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚   â”‚ Service  â”‚                 â”‚    â”‚ kubelet  â”‚                           â”‚
â”‚   â”‚ Endpoint â”‚                 â”‚    â”‚          â”‚                           â”‚
â”‚   â”‚  ì—ì„œ    â”‚                 â”‚    â”‚  Pod     â”‚                            â”‚
â”‚   â”‚  ì œê±°    â”‚                 â”‚    â”‚  ì¬ì‹œì‘   â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚        â”‚                       â”‚         â”‚                                 â”‚
â”‚        â–¼                       â”‚         â–¼                                 â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—             â”‚    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—                       â”‚
â”‚   â•‘  íŠ¸ë˜í”½ ì°¨ë‹¨   â•‘             â”‚    â•‘ ì»¨í…Œì´ë„ˆ Kill â•‘                         â”‚
â”‚   â•‘  PodëŠ” ìœ ì§€   â•‘             â”‚    â•‘  â†’ ì¬ìƒì„±    â•‘                         â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•             â”‚    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚                                â”‚                                           â”‚
â”‚   ì‚¬ìš© ì¼€ì´ìŠ¤:                   â”‚    ì‚¬ìš© ì¼€ì´ìŠ¤:                               â”‚
â”‚   â€¢ ì´ˆê¸°í™” ì¤‘                    â”‚    â€¢ ë°ë“œë½ ìƒíƒœ                             â”‚
â”‚   â€¢ ì¼ì‹œì  ê³¼ë¶€í•˜                 â”‚    â€¢ ë¬´í•œ ë£¨í”„                               â”‚
â”‚   â€¢ ì˜ì¡´ì„± ì—°ê²° ëŒ€ê¸°              â”‚    â€¢ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¡œ ì‘ë‹µ ë¶ˆê°€                     â”‚
â”‚                                â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Liveness Probe ì£¼ì˜ì‚¬í•­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    âš ï¸  Liveness Probe ë¬´í•œ ì¬ì‹œì‘ ìœ„í—˜                          â”‚
â”‚                                                                             â”‚
â”‚   ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶     â”‚
â”‚                                                                             â”‚
â”‚   Pod ì‹œì‘ â”€â”€â–¶ ì‹¤íŒ¨ â”€â”€â–¶ ì¬ì‹œì‘ â”€â”€â–¶ ì‹¤íŒ¨ â”€â”€â–¶ ì¬ì‹œì‘ â”€â”€â–¶ ì‹¤íŒ¨ â”€â”€â–¶ ...                 â”‚
â”‚       â”‚          â”‚         â”‚         â”‚         â”‚         â”‚                  â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                          ë¬´í•œ ë°˜ë³µ!                                           â”‚
â”‚                                                                             â”‚
â”‚   ì›ì¸ ì˜ˆì‹œ:                                                                  â”‚
â”‚   â€¢ ì˜ëª»ëœ ì„¤ì •ìœ¼ë¡œ ì¸í•œ ì‹œì‘ ì‹¤íŒ¨                                                 â”‚
â”‚   â€¢ ì™¸ë¶€ ì˜ì¡´ì„± ì˜êµ¬ ì¥ì•                                                         â”‚
â”‚   â€¢ ë¦¬ì†ŒìŠ¤ ë¶€ì¡± (CPU/Memory)                                                   â”‚
â”‚                                                                             â”‚
â”‚   í•´ê²°ì±…:                                                                     â”‚
â”‚   â€¢ Startup Probeì™€ í•¨ê»˜ ì‚¬ìš©                                                  â”‚
â”‚   â€¢ ì ì ˆí•œ initialDelaySeconds ì„¤ì •                                            â”‚
â”‚   â€¢ ê·¼ë³¸ ì›ì¸ í•´ê²° (ì¬ì‹œì‘ìœ¼ë¡œ í•´ê²°ë˜ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” Livenessë¡œ ì²˜ë¦¬ âŒ)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.1.3 Startup Probe
Startup ProbeëŠ” ì´ˆê¸° ì‘ë™ì‹œì—ë§Œ ì ìš©ë˜ëŠ” probeë¡œ, ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘í•˜ëŠ” ë° ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤.  
ì¿ ë²„ë„¤í‹°ìŠ¤ ë²„ì „ 1.18ë¶€í„° ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, ì´ì „ì—ëŠ” Readiness probeë‚˜ Liveness probeì˜ initialDelaySecondsë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
  
ì´ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” ìµœëŒ€ 30ì´ˆ * 10íšŒ = 300ì´ˆ ë™ì•ˆ ì»¨í…Œì´ë„ˆì˜ ì‘ë™ì„ ê¸°ë‹¤ë¦¬ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.
```yaml
apiVersion: v1
kind: Pod
metadata:
  labels:
    app: httpserver
  name: httpserver-liveness
spec:
  containers:
  - name: httpserver
    image: blux2/delayfailserver:1.1
    startupProbe:
      httpGet:
        path: /healthz
        port: 8080
      failureThreshold: 30
      periodSeconds: 10

```

### Startup Probeì˜ ë™ì‘ ì›ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Startup Probe ë™ì‘ íë¦„                            â”‚
â”‚                                                                            â”‚
â”‚  ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚
â”‚                                                                            â”‚
â”‚  Container                                                                 â”‚
â”‚   ì‹œì‘                                                                      â”‚
â”‚    â”‚                                                                       â”‚
â”‚    â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Startup Probe êµ¬ê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚    â”‚     â”‚                                                    â”‚            â”‚
â”‚    â”‚     â”‚   10ì´ˆ   10ì´ˆ   10ì´ˆ   10ì´ˆ         10ì´ˆ              â”‚            â”‚
â”‚    â”‚     â”‚  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”   ...   â”Œâ”€â”€â”               â”‚            â”‚
â”‚    â–¼     â”‚  â”‚ì²´í¬â”‚  â”‚ì²´í¬â”‚  â”‚ì²´í¬â”‚  â”‚ì²´í¬â”‚         â”‚ì²´í¬â”‚           â”‚            â”‚
â”‚  â”Œâ”€â”€â”€â”   â”‚  â”‚âŒâ”‚  â”‚âŒâ”‚  â”‚âŒâ”‚  â”‚âœ“â”‚           â”‚  â”‚                â”‚            â”‚
â”‚  â”‚   â”‚â”€â”€â”€â”¼â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜                â”‚            â”‚
â”‚  â””â”€â”€â”€â”˜   â”‚                    â”‚                                â”‚            â”‚
â”‚          â”‚                    â”‚                                â”‚            â”‚
â”‚          â”‚              ì„±ê³µí•˜ë©´ ì¦‰ì‹œ                             â”‚            â”‚
â”‚          â”‚              Startup ì™„ë£Œ                            â”‚            â”‚
â”‚          â”‚                    â”‚                                â”‚            â”‚
â”‚          â”‚                    â–¼                                â”‚            â”‚
â”‚          â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚            â”‚
â”‚          â”‚         â”‚  Liveness/Readiness â”‚                     â”‚            â”‚
â”‚          â”‚         â”‚   Probe ì‹œì‘        â”‚                      â”‚            â”‚
â”‚          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚            â”‚
â”‚          â”‚                                                     â”‚            â”‚
â”‚          â”‚   ìµœëŒ€ ëŒ€ê¸° ì‹œê°„: periodSeconds Ã— failureThreshold     â”‚            â”‚
â”‚          â”‚         (10ì´ˆ Ã— 30íšŒ = 300ì´ˆ)                         â”‚            â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Startup Probeì™€ ë‹¤ë¥¸ Probeì˜ ê´€ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Probe ì‹¤í–‰ ìˆœì„œì™€ ê´€ê³„                                       â”‚
â”‚                                                                             â”‚
â”‚   Container ì‹œì‘                                                             â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â–¼                                                                    â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚
â”‚   â•‘                      Startup Probe ì‹¤í–‰ ì¤‘                          â•‘    â”‚
â”‚   â•‘                                                                   â•‘    â”‚
â”‚   â•‘   â€¢ Liveness Probe: â¸ï¸  ë¹„í™œì„±í™” (ëŒ€ê¸°)                              â•‘    â”‚
â”‚   â•‘   â€¢ Readiness Probe: â¸ï¸  ë¹„í™œì„±í™” (ëŒ€ê¸°)                             â•‘    â”‚
â”‚   â•‘                                                                   â•‘    â”‚
â”‚   â•‘   â†’ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¶©ë¶„íˆ ì‹œì‘í•  ì‹œê°„ì„ í™•ë³´                                â•‘    â”‚
â”‚   â•‘   â†’ Liveness Probeë¡œ ì¸í•œ ì¡°ê¸° ì¬ì‹œì‘ ë°©ì§€                              â•‘    â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚        â”‚                                                                   â”‚
â”‚        â”‚ Startup ì„±ê³µ âœ“                                                     â”‚
â”‚        â–¼                                                                   â”‚
â”‚   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—    â”‚
â”‚   â•‘                    Startup Probe ì™„ë£Œ í›„                            â•‘    â”‚
â”‚   â•‘                                                                    â•‘    â”‚
â”‚   â•‘   â€¢ Liveness Probe: â–¶ï¸  í™œì„±í™” (ì£¼ê¸°ì  ì²´í¬ ì‹œì‘)                       â•‘    â”‚
â”‚   â•‘   â€¢ Readiness Probe: â–¶ï¸  í™œì„±í™” (ì£¼ê¸°ì  ì²´í¬ ì‹œì‘)                      â•‘    â”‚
â”‚   â•‘                                                                   â•‘     â”‚
â”‚   â•‘   â†’ ì´í›„ ì •ìƒì ì¸ í—¬ìŠ¤ ì²´í¬ ì§„í–‰                                         â•‘     â”‚
â”‚   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3ê°€ì§€ Probe ë¹„êµ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         3ê°€ì§€ Probe ë¹„êµ ìš”ì•½                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚  Startup Probe  â”‚ Readiness Probe â”‚   Liveness Probe      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹¤í–‰ ì‹œì          â”‚ ì»¨í…Œì´ë„ˆ ì‹œì‘ ì‹œ  â”‚ Startup ì´í›„    â”‚ Startup ì´í›„              â”‚
â”‚                 â”‚ (ìµœì´ˆ 1íšŒ)       â”‚ (ì§€ì†ì )        â”‚ (ì§€ì†ì )                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‹¤íŒ¨ ì‹œ ë™ì‘       â”‚ Pod ì¬ì‹œì‘       â”‚ Endpoint ì œê±°   â”‚ Pod ì¬ì‹œì‘               â”‚
â”‚                 â”‚ (Kill)          â”‚ (íŠ¸ë˜í”½ ì°¨ë‹¨)    â”‚ (Kill)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì£¼ìš” ëª©ì          â”‚ ëŠë¦° ì‹œì‘ í—ˆìš©    â”‚ íŠ¸ë˜í”½ ì œì–´     â”‚ ì¥ì•  ë³µêµ¬                    â”‚
â”‚                 â”‚                 â”‚                 â”‚                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì‚¬ìš© ì˜ˆì‹œ         â”‚ â€¢ JVM ì›œì—…      â”‚ â€¢ DB ì—°ê²° ëŒ€ê¸°   â”‚ â€¢ ë°ë“œë½ ë³µêµ¬              â”‚
â”‚                 â”‚ â€¢ ëŒ€ìš©ëŸ‰ ìºì‹œ    â”‚ â€¢ ì´ˆê¸°í™” ì™„ë£Œ    â”‚ â€¢ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜               â”‚
â”‚                 â”‚   ë¡œë”©          â”‚ â€¢ ì˜ì¡´ì„± í™•ì¸    â”‚ â€¢ ë¬´í•œ ë£¨í”„                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Startup Probeê°€ í•„ìš”í•œ ìƒí™©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Startup Probe ì—†ì´ Livenessë§Œ ì‚¬ìš©í•  ë•Œì˜ ë¬¸ì œ                â”‚
â”‚                                                                             â”‚
â”‚   ì‹œê°„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶       â”‚
â”‚                                                                             â”‚
â”‚   Container ì‹œì‘                                                             â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â”‚    initialDelaySeconds = 30ì´ˆ                                      â”‚
â”‚        â”‚    â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                                     â”‚
â”‚        â”‚                               â”‚                                    â”‚
â”‚        â”‚   ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì¤‘...       â”‚   Liveness ì²´í¬ ì‹œì‘                    â”‚
â”‚        â”‚   (60ì´ˆ í•„ìš”)                 â”‚        â”‚                             â”‚
â”‚        â”‚                               â”‚        â–¼                           â”‚
â”‚        â”‚                               â”‚   âŒ ì‹¤íŒ¨ (ì•„ì§ ì´ˆê¸°í™” ì¤‘)             â”‚
â”‚        â”‚                               â”‚        â”‚                           â”‚
â”‚        â”‚                               â”‚        â–¼                           â”‚
â”‚        â”‚                               â”‚   ğŸ”„ ì¬ì‹œì‘ (ë¶ˆí•„ìš”í•œ ì¬ì‹œì‘!)          â”‚
â”‚        â”‚                               â”‚        â”‚                           â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â–¶ ë¬´í•œ ì¬ì‹œì‘ ë£¨í”„            â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  í•´ê²°ì±…: Startup Probe ì‚¬ìš©                                            â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  â€¢ Startup Probeê°€ ì„±ê³µí•  ë•Œê¹Œì§€ Liveness Probe ë¹„í™œì„±í™”                  â”‚    â”‚
â”‚  â”‚  â€¢ ì¶©ë¶„í•œ ì‹œì‘ ì‹œê°„ í™•ë³´ (failureThreshold Ã— periodSeconds)              â”‚    â”‚
â”‚  â”‚  â€¢ ì‹œì‘ ì™„ë£Œ í›„ì—ë§Œ Liveness Probe í™œì„±í™”                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 7.1.4 ë§ê°€ëœ¨ë¦¬ê¸° StateëŠ” Runningì´ì§€ë§Œ...
Readiness probeì™€ Liveness probeë¥¼ ì˜ ì„¤ì •í•˜ë©´ ê°•ë ¥í•œ í˜œíƒì„ ë³¼ ìˆ˜ ìˆì§€ë§Œ ì˜ëª»ì„¤ì •í•˜ë©´ ë¬¸ì œê°€ ë©ë‹ˆë‹¤.  
ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë¬¸ì œê°€ ì—†ëŠ”ë° íŠ¸ë˜í”½ì´ ë§‰íˆê²Œë©ë‹ˆë‹¤. ë˜í•œ, Liveness probeë¥¼ ì˜ëª»ì„¤ì •í•˜ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë¬¸ì œê°€ ì—†ëŠ”ë° ì»¨í…Œì´ë„ˆê°€ ê³„ì† Terminateë¥¼ ë°˜ë³µí•©ë‹ˆë‹¤.  

```bash

```